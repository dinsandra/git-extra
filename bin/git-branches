#!/bin/bash

REMOTE=$(git config --get gitset.defaultremote)

if [[ -z "${REMOTE}" ]]
then
  echo "No remote configured. Use 'git config --global gitset.defaultremote <remotename>' to set default remote"
  exit 1
fi

BRANCH_PREFIX=$(git config --get gitset.branchPrefix)
PREFIX="${REMOTE}/${BRANCH_PREFIX}"
PREFIX_LENGTH=$(echo "  remotes/${PREFIX}" | wc -c | tr -d " ")

git branch -a -l "${PREFIX}*" | cut -c "${PREFIX_LENGTH}"-
